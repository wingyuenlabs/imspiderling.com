---
Title: What is Hydration in Next.js ⚠️?
Description: 
Author: Manish Kumar Sahu
Date: 2025-11-15T21:41:48.000Z
Robots: noindex,nofollow
Template: index
---
<p>When you use Next.js, the page render twice:</p>

<ol>
<li>
<strong>On the Server Side (SSR) :-</strong> In this process HTML is generated.</li>
<li>
<strong>On the Client (Browser):-</strong> React hydrates that HTML and attaches the event listeners.
Think of hydration as: “React wakes up the static HTML and converts it into an interactive app.”
For hydration to work, the HTML that the server generates must match the HTML that React generates in the browser.</li>
</ol>

<p>If they don’t match → Next.js throws a hydration error.</p>

<blockquote>
<p>Eg:- Server generated HTML = A<br>
Browser generated HTML = B<br>
React is confused<br>
Hydration breaks</p>
</blockquote>

<p><a href="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ficmw0d55gd3jx2srqi7m.png" class="article-body-image-wrapper"><img src="https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Ficmw0d55gd3jx2srqi7m.png" alt=" " width="800" height="386"></a></p>

<h2>
  
  
  <strong>Reason - Why Does This Happen?</strong>
</h2>

<p>1.<strong>Using browser-only APIs during SSR</strong>:- <br>
Server → window doesn't exist → error<br>
Client → window exists → mismatch<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>const width = window.innerWidth;
</code></pre>

</div>



<p>2.<strong>Using Date, Math.random(), or dynamic values during render</strong>:- Server timestamp ≠ client timestamp → mismatch.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>&lt;p&gt;{Date.now()}&lt;/p&gt;
</code></pre>

</div>



<p>3.<strong>Conditionally rendering components differently on server vs client</strong>:- <br>
Server → window undefined → renders nothing<br>
Client → window exists → renders sidebar<br>
Mismatch → hydration error.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>{typeof window !== "undefined" &amp;&amp; &lt;Sidebar /&gt;}
</code></pre>

</div>



<p>4.<strong>Fetching data differently on server and client</strong>:- You might accidentally:</p>

<ul>
<li>Fetch server-side once</li>
<li>Fetch client-side again with a different result
This changes HTML → mismatch.</li>
</ul>

<h2>
  
  
  <strong>How to Fix Hydration Issues?</strong>
</h2>

<p>1.<strong>Wrap client-only code inside useEffect</strong>:- Anything using window, document, localStorage:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>const [width, setWidth] = useState(null);
useEffect(() =&gt; {
  setWidth(window.innerWidth);
}, []);
</code></pre>

</div>



<p>Server renders nothing → client fills it later.</p>

<p>2.<strong>Avoid Date.now() or Math.random() directly in render</strong>:- Use useEffect or calculate once.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>const [time, setTime] = useState(null);
useEffect(() =&gt; setTime(Date.now()), []);
</code></pre>

</div>



<p>3.<strong>Use dynamic import for client-only components</strong>:- Example: charts, maps, heavy UI.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>const Chart = dynamic(() =&gt; import("../Chart"), { ssr: false });
</code></pre>

</div>



<p>Now the component loads only on client → no mismatch.</p>

<p>4.<strong>Make sure data is consistent between server and client</strong>:- Use server-only fetching (app router) or React Query with proper hydration.</p>

<p><strong><em>Hydration errors happen when the HTML React expects in the browser doesn’t match the HTML generated by Next.js on the server.</em></strong></p>

